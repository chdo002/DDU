
this.beforeEvaluate {
    println "this.beforeEvaluate"
}
//等同beforeEvaluate
this.gradle.beforeProject {
    println "this.beforeProject"
}

this.afterEvaluate {
    println "this.afterEvaluate"
}
//等同配置阶段完成后
this.gradle.afterProject {
    println "this.afterProject"
}


this.gradle.taskGraph.whenReady{
    println "whenReady"
}

// Gradle3.0 << ，在4.x以上就废弃了
task A {

    println "configuration A.."

    doFirst {
        println "doFirst A.."
    }

    doLast {
        println actions
        println "doLast A1.."
    }

}

task B{
    println "configuration B.."

    doFirst {
        println "doFirst B.."
    }

    doLast {
        println actions
        println "doLast B1.."
    }
}

this.gradle.buildFinished {
    println "buildFinish"
}

gradle.addProjectEvaluationListener(new ProjectEvaluationListener() {
    @Override
    void beforeEvaluate(Project project) {
        println "Configure listener beforeEvaluate"

    }

    @Override
    void afterEvaluate(Project project, ProjectState projectState) {
        println "Configure listener afterEvaluate"
    }
})

ext {
    prop1 = '11111'
    prop2 = 'aass222'
}

ext.prop3 = 'okkkkkkk'

println('====$prop1')
println('====$prop2')
println('====${project.ext.prop3}')

task runProExtPro {
    println "---> runProExtPro\t"+project.ext.prop3
    println "---> runProExtPro\t"+project.prop2

    println 'read from proj ' + COMMONPROP
}